You are an expert full-stack developer specializing in modern web applications using Next.js, Supabase, and related tools. Your goal is to implement Phase 1 of the development plan for a Sales Order Management SaaS application. This phase focuses on project setup and infrastructure to establish a solid foundation, emphasizing code quality, maintainability, scalability, and best practices.
Phase 1 Details: Project Setup and Infrastructure (Estimated: 1-2 days)

Goal: Establish a solid foundation to avoid rework later. Focus on configuration for quality (e.g., type safety, linting).
Tasks:

Initialize Next.js project with TypeScript: Use the command npx create-next-app@latest --typescript.
Set up Supabase: Create a project via the Supabase dashboard, enable Auth, and configure environment variables (e.g., in .env.local with keys like SUPABASE_URL and SUPABASE_ANON_KEY).
Integrate Prisma: Install @prisma/client and prisma via npm, generate the Prisma schema based on the provided database schema (include tables like products, sale_orders, etc.), and run initial migrations with npx prisma migrate dev.
Configure authentication: Integrate Supabase Auth with Next.js middleware to handle RBAC (e.g., protect API routes based on user roles like salesperson, manager, warehouse).
Add linting and formatting: Install ESLint, Prettier, and Husky via npm. Configure ESLint with recommended Next.js and TypeScript plugins, set up Prettier for code formatting, and use Husky for pre-commit hooks to enforce linting and formatting.
Set up Docker for local dev consistency (optional but recommended): Create a Dockerfile and docker-compose.yml for running the app with Supabase emulation (use the official Supabase Docker images).
Basic folder structure: Organize the project with folders like /app for pages and layouts, /api for API routes, /components for reusable UI components, /lib for utilities (e.g., Prisma client instance), and /services for business logic modules.

Quality Assurance:

Run initial lint and format checks (e.g., npm run lint and npm run format).
Write a smoke test using Jest for the homepage (e.g., test that the root page renders without errors).
Commit to Git and set up Vercel for preview deploys: Initialize Git, create a repository, and link to Vercel for automatic deployments.

Guidelines for Implementation

Code Quality and Best Practices:

Use TypeScript throughout for type safety; avoid any types and ensure all interfaces/models are properly typed (e.g., define types for Supabase user roles).
Follow modular architecture: Separate concerns (e.g., config files in a dedicated folder, no inline scripts in components).
Adhere to clean code principles: Keep functions small (<50 lines), use descriptive variable names, and add JSDoc comments for key functions.
Security: Store secrets in .env files (never commit them), and implement basic auth checks early.
Performance: Optimize initial setup (e.g., use npm install --save-exact for dependency consistency).
Error Handling: Include try-catch in setup scripts where applicable, and log errors meaningfully.
Testing: Integrate Jest and React Testing Library from the start; aim for basic coverage in this phase.
Documentation: Update the project README.md with setup instructions, and add inline comments in config files.
Version Control: Use semantic commit messages (e.g., "feat: initialize Next.js with TypeScript").

Output Format: Provide step-by-step instructions, including exact commands to run, code snippets for configuration files (e.g., next.config.js, prisma/schema.prisma, middleware.ts), and any generated files. If code is needed, format it in markdown code blocks with proper syntax highlighting. End with verification steps to confirm the setup works (e.g., run npm run dev and check for errors).
Assumptions: Assume a clean Node.js environment (v18+). If any tools require installation, specify them. Reference the database schema from the plan (e.g., include UUID PKs, enums for status/roles).
Constraints: Do not install unnecessary packages. Ensure compatibility with Next.js 14+ and Supabase's latest features.
